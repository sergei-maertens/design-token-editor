import {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';
import ofDesignTokens from '@open-formulieren/design-tokens/dist/tokens.js';
import utrechtDesignTokens from '@utrecht/design-tokens/dist/tokens.js';

import TokensTable from './TokensTable';

<Meta title="Public API/TokensTable" component={TokensTable} />

## Tokens table

Displays a table with the (JSON) path of the token, the current value (which can be
edited) and where the current value is coming from (either a reference to another token,
or a literal value).

export const Template = ({container, limitTo = null, autoExpand, filterEnabled=false}) => (
  <TokensTable container={container} limitTo={limitTo} autoExpand={autoExpand} filterEnabled={filterEnabled} />
);

## Rendering all tokens of a theme

<Canvas>
  <Story name="Default" args={{container: ofDesignTokens}}>
    {Template.bind({})}
  </Story>
</Canvas>

## Limit rendering to a component

<Canvas>
  <Story
    name="Limited to component"
    args={{
      container: ofDesignTokens,
      limitTo: 'of.button',
      autoExpand: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable of={TokensTable} />

## Enable filters

<Canvas>
  <Story name="Filters enabled" args={{container: ofDesignTokens, filterEnabled: true, autoExpand: true}}>
    {Template.bind({})}
  </Story>
</Canvas>

## 'Unexpected' token shapes

Some style-dictionary configuration can result in additional properties being there but
the value key missing.

<Canvas>
  <Story
    name="Utrecht tokens"
    args={{
      container: utrechtDesignTokens,
      limitTo: 'utrecht.alert.',
      autoExpand: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
